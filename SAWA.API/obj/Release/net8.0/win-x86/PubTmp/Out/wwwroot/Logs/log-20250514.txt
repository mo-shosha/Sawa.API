2025-05-14 00:06:10.793 +03:00 [INF] User profile is available. Using 'C:\Users\dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-14 00:06:15.445 +03:00 [INF] Now listening on: https://localhost:7029
2025-05-14 00:06:15.445 +03:00 [INF] Now listening on: http://localhost:5090
2025-05-14 00:06:16.295 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-14 00:06:16.296 +03:00 [INF] Hosting environment: Development
2025-05-14 00:06:16.297 +03:00 [INF] Content root path: E:\projects in back\Advansed_SE\SAWA.API\SAWA.API
2025-05-14 00:06:30.625 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7029/swagger/index.html - null null
2025-05-14 00:06:40.815 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7029/swagger/index.html - 200 null text/html;charset=utf-8 10196.9459ms
2025-05-14 00:06:41.166 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7029/_framework/aspnetcore-browser-refresh.js - null null
2025-05-14 00:06:41.166 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7029/_vs/browserLink - null null
2025-05-14 00:06:41.184 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7029/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 19.4615ms
2025-05-14 00:06:41.488 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7029/_vs/browserLink - 200 null text/javascript; charset=UTF-8 323.0692ms
2025-05-14 00:06:42.921 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7029/swagger/v1/swagger.json - null null
2025-05-14 00:06:42.990 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7029/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.904ms
2025-05-14 00:06:51.512 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7029/api/V1/Admin/user/3aea2758-2a61-400b-8abe-d36813afa3fc - null null
2025-05-14 00:06:56.967 +03:00 [INF] Executing endpoint 'SAWA.API.Controllers.V1.AdminController.DeleteUser (SAWA.API)'
2025-05-14 00:06:57.041 +03:00 [INF] Route matched with {action = "DeleteUser", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(System.String) on controller SAWA.API.Controllers.V1.AdminController (SAWA.API).
2025-05-14 00:07:56.263 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-14 00:08:03.434 +03:00 [INF] Executed DbCommand (264ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[Address], [t].[ConcurrencyStamp], [t].[CreatedAt], [t].[Description], [t].[DocumentURL], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[IsApproved], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[ProfilePhotoURL], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[WallpaperPhotoURL], [t0].[Id], [t0].[CharityId], [t0].[Content], [t0].[CreatedAt], [t0].[Id0], [t0].[Content0], [t0].[CreatedAt0], [t0].[PostId], [t0].[UserId], [t0].[Id1], [t0].[BranchId], [t0].[DonationId], [t0].[HelpRequestId], [t0].[ImageUrl], [t0].[PostId0], [c0].[Id], [c0].[Content], [c0].[CreatedAt], [c0].[PostId], [c0].[UserId], [d].[Id], [d].[Address], [d].[Amount], [d].[CharityId], [d].[CreatedAt], [d].[Description], [d].[Phone], [d].[Status], [d].[Type], [d].[UserId], [d0].[Id], [d0].[Address], [d0].[Amount], [d0].[CharityId], [d0].[CreatedAt], [d0].[Description], [d0].[Phone], [d0].[Status], [d0].[Type], [d0].[UserId], [h].[Id], [h].[Address], [h].[CharityId], [h].[CreatedAt], [h].[Description], [h].[Phone], [h].[Status], [h].[UserId], [h0].[Id], [h0].[Address], [h0].[CharityId], [h0].[CreatedAt], [h0].[Description], [h0].[Phone], [h0].[Status], [h0].[UserId], [r].[Id], [r].[CreatedAt], [r].[Reason], [r].[ReporterId], [r].[TargetId], [r].[Type], [b].[Id], [b].[Address], [b].[CharityId], [b].[CreatedAt], [b].[Description], [b].[PhoneNumber]
FROM (
    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[DocumentURL], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsApproved], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePhotoURL], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[WallpaperPhotoURL]
    FROM [AppUsers] AS [a]
    WHERE [a].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [p].[Id], [p].[CharityId], [p].[Content], [p].[CreatedAt], [c].[Id] AS [Id0], [c].[Content] AS [Content0], [c].[CreatedAt] AS [CreatedAt0], [c].[PostId], [c].[UserId], [p0].[Id] AS [Id1], [p0].[BranchId], [p0].[DonationId], [p0].[HelpRequestId], [p0].[ImageUrl], [p0].[PostId] AS [PostId0]
    FROM [Posts] AS [p]
    LEFT JOIN [Comments] AS [c] ON [p].[Id] = [c].[PostId]
    LEFT JOIN [Photos] AS [p0] ON [p].[Id] = [p0].[PostId]
) AS [t0] ON [t].[Id] = [t0].[CharityId]
LEFT JOIN [Comments] AS [c0] ON [t].[Id] = [c0].[UserId]
LEFT JOIN [Donations] AS [d] ON [t].[Id] = [d].[UserId]
LEFT JOIN [Donations] AS [d0] ON [t].[Id] = [d0].[CharityId]
LEFT JOIN [HelpRequests] AS [h] ON [t].[Id] = [h].[UserId]
LEFT JOIN [HelpRequests] AS [h0] ON [t].[Id] = [h0].[CharityId]
LEFT JOIN [Reports] AS [r] ON [t].[Id] = [r].[ReporterId]
LEFT JOIN [Branches] AS [b] ON [t].[Id] = [b].[CharityId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0], [t0].[Id1], [c0].[Id], [d].[Id], [d0].[Id], [h].[Id], [h0].[Id], [r].[Id]
2025-05-14 00:08:37.834 +03:00 [INF] Executed DbCommand (123ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 450), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Donations]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Donations]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Photos]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [Posts]
OUTPUT 1
WHERE [Id] = @p3;
DELETE FROM [AppUsers]
OUTPUT 1
WHERE [Id] = @p4 AND [ConcurrencyStamp] = @p5;
2025-05-14 00:08:43.957 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'SAWA.infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Photos_Donations_DonationId". The conflict occurred in database "db18546", table "dbo.Photos", column 'DonationId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:cc925e44-7b90-44d0-a4d7-51fe638d8af4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Photos_Donations_DonationId". The conflict occurred in database "db18546", table "dbo.Photos", column 'DonationId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:cc925e44-7b90-44d0-a4d7-51fe638d8af4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-14 00:08:46.472 +03:00 [INF] Executing ObjectResult, writing value of type 'SAWA.API.Healper.ResponseAPI`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-14 00:08:46.570 +03:00 [INF] Executed action SAWA.API.Controllers.V1.AdminController.DeleteUser (SAWA.API) in 109454.9927ms
2025-05-14 00:08:46.571 +03:00 [INF] Executed endpoint 'SAWA.API.Controllers.V1.AdminController.DeleteUser (SAWA.API)'
2025-05-14 00:08:46.585 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7029/api/V1/Admin/user/3aea2758-2a61-400b-8abe-d36813afa3fc - 500 null application/json; charset=utf-8 115073.7177ms
2025-05-14 00:36:25.929 +03:00 [INF] User profile is available. Using 'C:\Users\dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-14 00:36:26.631 +03:00 [INF] Now listening on: https://localhost:7029
2025-05-14 00:36:26.631 +03:00 [INF] Now listening on: http://localhost:5090
2025-05-14 00:36:26.731 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-14 00:36:26.731 +03:00 [INF] Hosting environment: Development
2025-05-14 00:36:26.731 +03:00 [INF] Content root path: E:\projects in back\Advansed_SE\SAWA.API\SAWA.API
2025-05-14 00:36:35.774 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7029/swagger - null null
2025-05-14 00:36:36.131 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7029/swagger - 301 0 null 379.8175ms
2025-05-14 00:36:36.169 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7029/swagger/index.html - null null
2025-05-14 00:36:36.384 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7029/swagger/index.html - 200 null text/html;charset=utf-8 214.7905ms
2025-05-14 00:36:36.501 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7029/swagger/swagger-ui.css - null null
2025-05-14 00:36:36.501 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7029/swagger/swagger-ui-bundle.js - null null
2025-05-14 00:36:36.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7029/_framework/aspnetcore-browser-refresh.js - null null
2025-05-14 00:36:36.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7029/swagger/swagger-ui-standalone-preset.js - null null
2025-05-14 00:36:36.504 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7029/_vs/browserLink - null null
2025-05-14 00:36:36.538 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7029/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 35.5068ms
2025-05-14 00:36:36.622 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-14 00:36:36.622 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-14 00:36:36.625 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7029/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 123.2738ms
2025-05-14 00:36:36.625 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7029/swagger/swagger-ui.css - 200 152034 text/css 123.6652ms
2025-05-14 00:36:36.749 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7029/_vs/browserLink - 200 null text/javascript; charset=UTF-8 247.2052ms
2025-05-14 00:36:37.040 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-14 00:36:37.040 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7029/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 538.8555ms
2025-05-14 00:36:37.345 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7029/swagger/v1/swagger.json - null null
2025-05-14 00:36:37.372 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7029/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.4351ms
2025-05-14 00:37:07.222 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7029/api/V1/Admin/user/3aea2758-2a61-400b-8abe-d36813afa3fc - null null
2025-05-14 00:37:09.329 +03:00 [INF] Executing endpoint 'SAWA.API.Controllers.V1.AdminController.DeleteUser (SAWA.API)'
2025-05-14 00:37:09.428 +03:00 [INF] Route matched with {action = "DeleteUser", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(System.String) on controller SAWA.API.Controllers.V1.AdminController (SAWA.API).
2025-05-14 00:37:39.967 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-14 00:37:42.521 +03:00 [INF] Executed DbCommand (275ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[Address], [t].[ConcurrencyStamp], [t].[CreatedAt], [t].[Description], [t].[DocumentURL], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[IsApproved], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[ProfilePhotoURL], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[WallpaperPhotoURL], [t0].[Id], [t0].[CharityId], [t0].[Content], [t0].[CreatedAt], [t0].[Id0], [t0].[Content0], [t0].[CreatedAt0], [t0].[PostId], [t0].[UserId], [t0].[Id1], [t0].[BranchId], [t0].[DonationId], [t0].[HelpRequestId], [t0].[ImageUrl], [t0].[PostId0], [c0].[Id], [c0].[Content], [c0].[CreatedAt], [c0].[PostId], [c0].[UserId], [d].[Id], [d].[Address], [d].[Amount], [d].[CharityId], [d].[CreatedAt], [d].[Description], [d].[Phone], [d].[Status], [d].[Type], [d].[UserId], [d0].[Id], [d0].[Address], [d0].[Amount], [d0].[CharityId], [d0].[CreatedAt], [d0].[Description], [d0].[Phone], [d0].[Status], [d0].[Type], [d0].[UserId], [h].[Id], [h].[Address], [h].[CharityId], [h].[CreatedAt], [h].[Description], [h].[Phone], [h].[Status], [h].[UserId], [h0].[Id], [h0].[Address], [h0].[CharityId], [h0].[CreatedAt], [h0].[Description], [h0].[Phone], [h0].[Status], [h0].[UserId], [r].[Id], [r].[CreatedAt], [r].[Reason], [r].[ReporterId], [r].[TargetId], [r].[Type], [b].[Id], [b].[Address], [b].[CharityId], [b].[CreatedAt], [b].[Description], [b].[PhoneNumber]
FROM (
    SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Description], [a].[DocumentURL], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsApproved], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePhotoURL], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[WallpaperPhotoURL]
    FROM [AppUsers] AS [a]
    WHERE [a].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [p].[Id], [p].[CharityId], [p].[Content], [p].[CreatedAt], [c].[Id] AS [Id0], [c].[Content] AS [Content0], [c].[CreatedAt] AS [CreatedAt0], [c].[PostId], [c].[UserId], [p0].[Id] AS [Id1], [p0].[BranchId], [p0].[DonationId], [p0].[HelpRequestId], [p0].[ImageUrl], [p0].[PostId] AS [PostId0]
    FROM [Posts] AS [p]
    LEFT JOIN [Comments] AS [c] ON [p].[Id] = [c].[PostId]
    LEFT JOIN [Photos] AS [p0] ON [p].[Id] = [p0].[PostId]
) AS [t0] ON [t].[Id] = [t0].[CharityId]
LEFT JOIN [Comments] AS [c0] ON [t].[Id] = [c0].[UserId]
LEFT JOIN [Donations] AS [d] ON [t].[Id] = [d].[UserId]
LEFT JOIN [Donations] AS [d0] ON [t].[Id] = [d0].[CharityId]
LEFT JOIN [HelpRequests] AS [h] ON [t].[Id] = [h].[UserId]
LEFT JOIN [HelpRequests] AS [h0] ON [t].[Id] = [h0].[CharityId]
LEFT JOIN [Reports] AS [r] ON [t].[Id] = [r].[ReporterId]
LEFT JOIN [Branches] AS [b] ON [t].[Id] = [b].[CharityId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0], [t0].[Id1], [c0].[Id], [d].[Id], [d0].[Id], [h].[Id], [h0].[Id], [r].[Id]
2025-05-14 00:37:43.701 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[@__donation_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[BranchId], [p].[DonationId], [p].[HelpRequestId], [p].[ImageUrl], [p].[PostId]
FROM [Photos] AS [p]
WHERE [p].[DonationId] = @__donation_Id_0
2025-05-14 00:37:43.833 +03:00 [INF] Executed DbCommand (107ms) [Parameters=[@__donation_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[BranchId], [p].[DonationId], [p].[HelpRequestId], [p].[ImageUrl], [p].[PostId]
FROM [Photos] AS [p]
WHERE [p].[DonationId] = @__donation_Id_0
2025-05-14 00:37:44.393 +03:00 [INF] Executed DbCommand (128ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Donations]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Photos]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Photos]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [Donations]
OUTPUT 1
WHERE [Id] = @p3;
DELETE FROM [Posts]
OUTPUT 1
WHERE [Id] = @p4;
DELETE FROM [AppUsers]
OUTPUT 1
WHERE [Id] = @p5 AND [ConcurrencyStamp] = @p6;
2025-05-14 00:37:52.788 +03:00 [INF] Executing OkObjectResult, writing value of type 'SAWA.API.Healper.ResponseAPI`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-14 00:37:52.808 +03:00 [INF] Executed action SAWA.API.Controllers.V1.AdminController.DeleteUser (SAWA.API) in 43374.3538ms
2025-05-14 00:37:52.809 +03:00 [INF] Executed endpoint 'SAWA.API.Controllers.V1.AdminController.DeleteUser (SAWA.API)'
2025-05-14 00:37:52.821 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7029/api/V1/Admin/user/3aea2758-2a61-400b-8abe-d36813afa3fc - 200 null application/json; charset=utf-8 45599.6429ms
